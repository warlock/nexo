<html>
  <head>
  <script src="../nexo.js"></script>
  <script>
    n.router.set({
      default: { name: 'ex' },
      '#/listplay': { name: 'list' },
      '#/user': { name: 'user', attributes: {} },
      '#/user/{id}/{name}': { name: 'user' },
      '#/superuser': { name: 'user', attributes: { name: 'superuser' } }
    })

    n.state.name = 'Inici'

    n.components['list'] = {
      html: (state, attr) => `
      <p><strong>COMPONENT LIST</strong></p>
      <p>Get state name: ${state.name}</p>
      <p>Attribute name: ${attr.name}</p>
      <ex></ex>            
      <user></user>
      `,
      attr: {
        name: 'List component name',
      },
      ready: n => {
        console.log('Component list ready!')
        setInterval(() => {
          n.set('name', Math.random().toString(36).substr(2, 10))
        }, 2000)
      }
    }

    n.components['user'] = {
      html: (state, attr) => `
      <p>State name: ${state.name}</p>
      <p>Attribute name: ${attr.name}</p>
      <p>Attribute id: ${attr.id}</p>
      <ex></ex>
      `,
      attr: {
        name: 'default user name',
        id: '0'
      },
      load: (n, attr) => {
        n.set('name', 'buuu')
      }
    }

    n.components['ex'] = {
      html: (state, attr) => `<p>Hello world!</p>`
    }
  </script>
  </head>
  <body>
    <div id="main">
      <strong>START</strong>
      <routerview></routerview>
      <ex></ex>
    </div>
  </body>
</html>