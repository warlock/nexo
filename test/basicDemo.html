<html>
<head>
<script src="../nexo.js"></script>
</head>
<body>
  <div id="main"></div>
  <div class="main2">clickme</div>
  <div id="main3"></div>
  <div id="main4"></div>
  <script>

n.set({
  load : (n, done) => {
    done(n.model.get('client')[0].toUpperCase())
  },
  name : "client",
  html : n => `CLIENT INFO: ${JSON.stringify(n.model.get('client'))}`
})

n.set({
  name : "loaddemo",
  load : (n, cont) => {
    setTimeout(() => {
      cont('load: ' + n.model.get('loaddemo'))
    }, 3000)
  },
  html : n => `INFO: ${JSON.stringify(n.model.get('loaddemo'))}`,
  ready : n => {
    console.log(JSON.stringify(n.model.get('loaddemo')))
  }
})

n.set({
  name : "loaddemo2",
  load : (n, cont) => {
    setTimeout(() => {
      cont('load2: ' + n.model.get('loaddemo2'))
    }, 3000)
  },
  html : n => `INFO: ${JSON.stringify(n.model.get('loaddemo2'))}<br>
    Aixo es el client: ${n.render('client', { status : 'asdasd' })}
  `,
  ready : n => {
    console.log(JSON.stringify(n.model.get('loaddemo2')))
  }
})


n.ready(() => {
  console.log('bu')
  //n.render('client', { element : '.main2', status : "holaaaa" })
  n.render('loaddemo2', { element : '#main', status : "adeu" })
})
  </script>
</body>
</html>
